@import "./mixin";

footer {
  .grid {
    padding: var(--spacing);
    
    @include sm(min) {
      height: 95vh;
      min-height: 35rem;
    }

    @include sm(max) {
      height: 25rem;
    }
  }
}

.footer {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 100%;
  background: transparent no-repeat center center/calc(100% - calc(var(--spacing) * 2));

  .grid {
    display: flex;
    // flex: 1 0 100%;
    flex: 1;
    flex-direction: column;
    justify-content: space-between;
    width: 100%;

    >div {
      &:nth-child(even) {

        @include sm(min) {
          text-align: right;
        }

        ul {
          display: flex;
          @include sm(min) {
            justify-content: flex-end;
            gap: 1rem;
          }

          @include sm(max) {
            flex-direction: column;
            align-items: flex-start;
          }
        }
      }
    }
  }

  &:not(.open) {
    .newsletter-form__input,
    .newsletter-form__button {
      height: 0;
      visibility: hidden;
      opacity: 0;
      pointer-events: none;
    }

    input {
      transform: translate3d(0, 100%, 0);
    }
  }

  .grid {
    >div {
      transition: transform .4s;
    }
  }

  label {
    transition: transform .4s;
  }

  &.open {
    .grid {
      >div {
        &:nth-child(even) {
          transform: translate3d(0, -3.21875rem, 0);
        }
      }
    }

    .field-inner {
      label {
        transform: translate3d(0, -1.25rem, 0);
      }
    }

    input {
      transform: translate3d(0, 0, 0);
    }
  }

  ul {
    margin: 0;
  }

  input {
    width: 50vw;
    border: none;
    outline: none;
    white-space: nowrap;
  }

  .field {
    display: flex;
    flex: 1 0 100%;
    justify-content: space-between;
    align-items: flex-end;
    gap: 4rem;
  }

  .field-inner {
    display: flex;
    flex-direction: column;
    flex: 1 0;

    &:has(input:invalid)~button[type=submit] {
      opacity: .3;
    }
  }
}

.footer-block__newsletter {

  .field-inner {
    @include sm(min) {
      position: absolute;
      bottom: 1.25rem;
      left: 1.25rem;
      z-index: 15;
    }

    @include sm(max) {
      position: static;
      footer & {
        margin-top: 2rem;
        padding: 0 var(--spacing) var(--spacing);
      }
    }
  }

  .newsletter-form__button {
    position: absolute;
    bottom: var(--spacing);
    right: var(--spacing);
    z-index: 15;
    transition: opacity .4s;
  }
}

.footer-block--menu {
  position: sticky;
  top: $block-size;
  z-index: 10;
}

.newsletter-form__input {
  transition: all .4s;
}